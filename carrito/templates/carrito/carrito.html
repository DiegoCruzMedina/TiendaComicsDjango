{% extends "tiendaweb/baseCarro.html" %}

{% load static %}

{% block title %}Carrito de compras{% endblock %}

{% block content %}
<br>
<div class="row" style="padding: 0 100px 0 100px;">
    <div class="container1">
        {% if user_authenticated %}
        <table class="table">
            <thead>
                <tr>
                    <th>Imagen</th>
                    <th>Nombre</th>
                    <th>Precio</th>
                    <th>Cantidad</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody>
                {% for key, value in carro.items %}
                <tr>
                    <td><img src="{{ value.imagen }}" alt="Imagen" class="imagenCarro" style="width: 100px; height: auto;"></td>
                    <td><h2 class="carro-name">{{ value.nombre }}</h2></td>
                    <td><h2 class="carro-text">${{ value.precio }}</h2></td>
                    <td><h2 class="carro-text">{{ value.cantidad }}</h2></td>
                    <td>
                        <a href="{% url 'carro:eliminar' value.producto_id %}" class="btn btn-danger btn-sm">Eliminar</a>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td></td>
                    <td>
                        <h1 style="font-size: 2rem; font-weight: bold; padding: 100px 0 100px 200px; display: inline-block;">
                            No hay ningún cómic en el carrito
                        </h1>
                        <a href="{% url 'catalogo' %}" class="btn btn-primary" style="display: inline-block; margin-left: 45px;">Ir a comprar</a>
                    </td>
                    <td></td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        {% else %}
        <br>
        <div class="alert alert-warning" role="alert">
            <h1 style="text-align: center; padding-top: 50px;">Debes iniciar sesión para ver y gestionar tu carrito de compras.</h1>
            <br>
            <br>
            <a href="{% url 'login' %}" class="btn btn-primary" style="display: flex; justify-content: center;">Iniciar Sesión</a>
            <br>
        </div>
        {% endif %}
    </div>
</div>
<br>
{% endblock %}